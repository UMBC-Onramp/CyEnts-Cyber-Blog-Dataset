
Alternatively, this can be mitigated in the configuration:
In PatternLayout in the logging configuration, replace Context Lookups like ${ctx:loginId} or $${ctx:loginId} with Thread Context Map patterns (%X, %mdc, or %MDC).
Otherwise, in the configuration, remove references to Context Lookups like ${ctx:loginId} or $${ctx:loginId} where they originate from sources external to the application such as HTTP headers or user input.
Note that this vulnerability impacts only the log4j-core JAR file.
Applications using only the log4j-api JAR file without the log4j-core JAR file are not affected by this vulnerability.