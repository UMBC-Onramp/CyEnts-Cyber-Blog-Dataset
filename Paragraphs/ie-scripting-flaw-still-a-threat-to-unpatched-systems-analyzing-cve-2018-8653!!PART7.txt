
Attackers successfully turned this bug into a use-after-free condition, as we shall see next.
Exploiting the bug: Without getting into too much detail (see the proof of concept later in this document for more info), this bug can be turned into a “delete this” type of primitive, which resembles previously reported bugs .
When the callback function (“f” in our previous example) is invoked, the keyword “this” points to eObj.prototype.
If we set it to null and then trigger a garbage collection, the memory backing the object can be freed and later reclaimed.
However, as mentioned in the Project Zero bug report , to be successful an entire block of variables needs to be cleared before the memory is freed.
The out-of-band patch: Microsoft released an unscheduled patch to fix this vulnerability.
It is common practice for us to look at what changed before and after the patch.