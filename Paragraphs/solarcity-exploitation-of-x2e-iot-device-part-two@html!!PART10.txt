
To get our device back to a working state, we needed to revisit the NAND dump we generated in Part One.
Repairing the Bootloader Configuration While the current configuration provided us a working shell, we needed to fix the damage we had done.
This was performed in two steps: fixing the mistakenly marked bad blocks and then rebuilding the configuration.
In our case, the nand utility and its sub-commands read , write , and scrub allowed us to inspect and manipulate pages and blocks of the NAND.
The nand scrub command with a valid offset and size could be used to completely reset a segment of the NAND, which removed any bad block markers.
The next challenge was determining what needed to be replaced in the damaged blocks and rebuilding the configuration.
Since we had a valid NAND image, we revisited the sections read by the bootloader to determine what changes were needed.