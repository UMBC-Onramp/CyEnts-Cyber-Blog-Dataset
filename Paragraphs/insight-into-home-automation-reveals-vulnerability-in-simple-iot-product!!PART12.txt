
Using the GPL, we compiled the same version of squash tools 3.0 with Izma and repackaged the firmware file system with a modified /etc/passwd file.
We added padding to ensure the firmware section was the same size as the original.
We then used “dd” to insert the new file system segment into the firmware binary.
During this process, we discovered that using binwalk to extract the firmware prevented us from correctly repackaging the firmware.