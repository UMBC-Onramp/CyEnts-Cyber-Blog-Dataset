
If the calling convention for the API function you are hooking is not stdcall , you can specify the calling convention in the optional call_conv parameter .
The calling convention constants are defined in the speakeasy/common/arch.py file.
Because the GetSysColor return value does not impact the unpacking process, we can simply return 0 .
Figure 5 shows the definition of the getsyscolor_hook function specified in Figure 4.
def getsyscolor_hook(self, emu, api_name, func, params): return 0 Figure 5: