
The technique is well explained in an article by blogger enigma0x3.
We analyzed an early subset of Kraken ransomware samples and determined they were still in the testing phase, adding and removing options.
The ransomware has implemented a “protection” to delete itself during the infection phase: “C:\\Windows\\System32\\cmd.exe” /C ping 127.0.0.1 -n 3 > NUL&&del /Q /F /S
“C:\\Users\\Administrator\\AppData\\Local\\Temp\\krakentemp0000.exe”
This step is to prevent researchers and endpoint protections from catching the file on an infected machine.
Kraken encrypts user files with a random name and drops the ransom note demanding the victim to pay to recover them.
McAfee recommends not paying ransoms because doing so contributes to the development of more ransomware families.
Kraken’s ransom note.
Each file extension is different; this technique is often used by specific ransomware families to bypass endpoint protection systems.