
By calling the API SetThreadContext() it is able to set the entry point of the second process to the deployed PE file, and calling ResumeThread() lets the deployed PE file run inside the second process.
The last thing the dynamic code does in the first process is to call the API ExitProcess() to exit the program.