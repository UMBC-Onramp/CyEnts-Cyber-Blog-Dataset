
Each section's SizeOfRawData value may need to be padded in order conform with the FileAlignment value specified in the PEâ€™s optional headers.
Keep in mind the resulting PE is unlikely to execute successfully.
However, these efforts will allow most static analysis tools to function correctly.
The final step for repairing the dumped PE is to fix its import table.
This is a complex task deserving of its own blog post and will not be discussed in detail here.
However, the first step involves collecting a list of library function names and their addresses in emulator memory.
If you know the GetProcAddress API is used by the unpacker stub to resolve imports for the unpacked PE, you can call the get_dyn_imports function as shown in Figure 13.